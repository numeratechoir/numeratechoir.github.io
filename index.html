<!DOCTYPE html>
<html>
  <head>
    <title>Life Expectancy</title>
    <link rel="stylesheet" type="text/css" href="./site.css"/>
    <link rel="stylesheet" type="text/css" href="./causes.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://media.flowingdata.com/js/d3.js?1.29.1"></script>
    <script type="text/javascript" src="http://media.flowingdata.com/js/d3.time.js?1.29.1"></script>
    <script type="text/javascript" src="http://media.flowingdata.com/js/d3.csv.js?1.29.1"></script>
    <link href='http://fonts.googleapis.com/css?family=Bevan|Cardo' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div id="main-wrapper">
      <div id="content">
        <div style="text-align:right"><a href="http://flowingdata.com"><img src="./logo-lone-square.gif" title="FlowingData" width="50" height="50"/></a></div>
        <h1>Life Expectancy</h1>
        <p>People are living longer around the world, some more so than others. Select a region (as defined by World Bank) below to compare, or roll over to the graph to highlight countries. <a href="http://flowingdata.com/2011/10/13/life-expectancy-changes/">Read more...</a></p>
        <div id="filters">
          <a id="EAS">East Asia and Pacific</a>
          <a id="SAS">South Asia</a>
          <a id="ECS">Europe and Central Asia</a>
          <a id="MEA">Middle East and North Africa</a>
          <a id="SSF">Sub-Saharan Africa</a>
          <a id="LCN">Latin America and Caribbean</a>
          <a id="NAC">North America</a>
        </div>
        <div id="blurb">
          <div id="default-blurb">
            <h2>World</h2>
            <p>The average life expectancy in the world in 2009 was 69 years.</p>
          </div>
          <div id="blurb-content"></div>
        </div>
        <div id="vis"></div>
        <div id="cite">Source: The World Bank; Graphic by: <a href="http://flowingdata.com">Nathan Yau</a></div>
        <div id="causes">
          <div id="all">
            <span id="a"></span>
            <span id="b"></span>
            <span id="c"></span>
          </div>
          <form>
            <label for="a-amt">Blue</label>
            <input type="text" id="a-amt" value="20"/>
            <label for="b-amt">Purple</label>
            <input type="text" id="b-amt" value="30"/>
            <label for="c-amt">Red</label>
            <input type="text" id="c-amt" value="45"/>
          </form>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript">
      function updateDivs(e) {
        e.preventDefault();
        var aVal = $("#a-amt").val()
        var bVal = $("#b-amt").val()
        var cVal = $("#c-amt").val()
        var total = parseInt(aVal) + parseInt(bVal) + parseInt(cVal);
        $("#a").css("width",  90*(aVal/total)+ "%");
        $("#b").css("width",  90*(bVal/total)+ "%");
        $("#c").css("width",  90*(cVal/total)+ "%");

      }
      $(document).ready(function() {
          //$("#update-divs").click(updateDivs);
          $("input").keyup(updateDivs);
          
      });
    </script>
  </body>
</html>
